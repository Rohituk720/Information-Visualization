<html>

<head>
    <script src="../node_modules/d3/dist/d3.min.js"></script>
    <script src="../node_modules/d3-time-format/dist/d3-time-format.min.js"></script>
    <script src="./ex4.js"></script>
</head>

<body>
    <p id="example"></p>

    <script>
        d3.csv("sp500.csv").then(function (data) {

            var formatDate = d3.timeParse("%b %Y");
            var chart = timeSeriesChart()
                .x(function (d) { return formatDate(d.date); })
                .y(function (d) { return +d.price; })
                .width(600)
                .height(300)
                .margin({ top: 20, right: 30, bottom: 20, left: 20 })
                .backgroundcolor('lightpink');

            d3.select("#example")
                .datum(data)
                .call(chart);
        });
    </script>
</body>

</html>